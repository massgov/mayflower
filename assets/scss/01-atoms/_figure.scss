.ma__figure {

  margin: 0 0 20px 0;

  .page-content > & {

    @include ma-container;

    &--large {

      @media ($bp-large-bridge-min) {
        width: auto;
      }
    }
  }

  @media ($bp-small-min) {
    margin: 0 30px 30px 30px;

    // support pre-existing figure elements besides dataviz.

    &--left,
    &--align-left,
    &.align-left {
      float: left;
      margin-left: 0;
      width: 50%;
    }

    &--right,
    &--align-right,
    &.align-right {
      float: right;
      margin-right: 0;
      width: 50%;
    }
  }

  &--full {
    transition: width 0.2s;
  }

  img {
    width: 100%;
  }

  &__title {

    @include ma-h2;
  }

  &__caption {
    font-size: 1.125rem;
    font-style: italic;
    line-height: 1.57;
  }

  // EXCLURIVE STYLES to dataviz - remove .ma__dataviz to apply all figure elements. Use .ma__dataviz to set dataviz specific styles excluding image and iframe.

  &--x-large {

    width: 100%;
    margin-right: 0;
    margin-left: 0;
  }

  // Small

  .no-sidebar &--small,
  .no-sidebar &--small.ma__dataviz {

    @media ($bp-small-min) {// 621~
      width: 33.33%;
      width: calc(100% / 3);
    }
  }

  .page-content:not(.no-sidebar) &--small,
  .page-content:not(.no-sidebar) &--small.ma__dataviz {
    width: 100%;

    // TODO: ONCE THEY DECIDE NOT TO USE $bp-large-bridge-max AND $bp-large-bridge-min, REMOVE THEM IN BREAKPOINT.SCSS

    // @media ($bp-large-bridge-max) {
    //   margin-right: 0;
    //   margin-left: 0;
    // }

    // @media ($bp-large-bridge-min) {// 1025~
    //   width: 50%;
    // }

    @media ($bp-large-max) {
      margin-right: 0;
      margin-left: 0;
    }

    @media ($bp-large-min) {// 910~
      width: 33.33%;
      width: calc(100% / 3);
    }
  }

  // Medium

  .no-sidebar &--medium,
  .no-sidebar &--medium.ma__dataviz {

    @media ($bp-small-min) {// 621~
      width: 50%;
    }
  }

  .page-content:not(.no-sidebar) &--medium,
  .page-content:not(.no-sidebar) &--medium.ma__dataviz {
    width: 100%;

    // @media ($bp-large-bridge-max) {
    //   margin-right: 0;
    //   margin-left: 0;
    // }

    // @media ($bp-large-bridge-min) {// 1025~
    //   width: 66.66%;
    //   width: calc(100% / 3 * 2);
    // }

    @media ($bp-large-max) {
      margin-right: 0;
      margin-left: 0;
    }

    @media ($bp-large-min) {// 910~
      width: 50%;
    }
  }

  // Large

  &--large,
  &--large.ma__dataviz {
    width: 100%;
  }

  .no-sidebar &--large,
  .no-sidebar &--large.ma__dataviz {

    @media ($bp-large-max) {
      margin-right: 0;
      margin-left: 0;
    }

    @media ($bp-large-min) {
      width: 66.66%;
      width: calc(100% / 3 * 2);
    }
  }

  .page-content:not(.no-sidebar) &--large,
  .page-content:not(.no-sidebar) &--large.ma__dataviz {

    @media ($bp-large-min) {
      margin-right: 0;
      margin-left: 0;
    }
  }

  // alignment

  &--left,
  &--left.ma__dataviz {
    float: left;
    margin-left: 0;
  }

  &--right,
  &--right.ma__dataviz {
    float: right;
    margin-right: 0;
  }

  @media ($bp-small-max) {

    &--left,
    &--left.ma__dataviz,
    &--right,
    &--right.ma__dataviz {
      float: none;
      margin-right: 0;
      margin-left: 0;
    }
  }

  // No wrapping

  &--no-wrap.ma__figure {
    float: none;
    margin-right: 0;
    margin-left: 0;
  }

  &--no-wrap.ma__figure--right,
  &--no-wrap.ma__figure--right.ma__dataviz {
    width: 100%;

    @media ($bp-small-min) {

        padding-left: 50%;
    }
  }

  // NO WRAP - Small

  &--no-wrap.ma__figure--right.ma__figure--small.ma__dataviz {

    @media ($bp-large-bridge-min) {// 1025~

      padding-left: 50%;
    }
  }

  .no-sidebar &--no-wrap.ma__figure--right.ma__figure--small.ma__dataviz {

    @media ($bp-small-min) {// 621~

      padding-left: 50%;
    }

    @media ($bp-medium-min) {// 781~

      padding-left: 66.66%;
      padding-left: calc(100% / 3 * 2);
    }
  }

  // NO WRAP - Medium

  &--no-wrap.ma__figure--right.ma__figure--medium.ma__dataviz {

    @media ($bp-large-bridge-min) {// 1025~

      padding-left: 33.33%;
      padding-left: calc(100% / 3);
    }
  }

  .no-sidebar &--no-wrap.ma__figure--right.ma__figure--medium.ma__dataviz {

    @media ($bp-small-min) {// 621~

      padding-left: 33.33%;
      padding-left: calc(100% / 3);
    }

    @media ($bp-medium-min) {// 781~

      padding-left: 50%;
    }
  }

  // NO WRAP - Large

  .no-sidebar &--no-wrap.ma__figure--right.ma__figure--large.ma__dataviz {

    @media ($bp-large-min) {

      padding-left: 66.66%;
      padding-left: calc(100% / 3 * 2);
    }
  }

  // caption
  &__caption {

    color: $c-font-detail;
    font-weight: bold;
    font-style: normal;
    border-bottom: 1px solid $c-black;
    padding: 10px 0;

    @media ($bp-small-min) {
      padding: 15px 0;
    }
  }

  .ma__rich-text &__caption {

    h2,
    h3,
    h4,
    h5,
    h6,
    p,
    ul,
    ol,
    blockquote,
    article,
    .ma__table--responsive {
      margin-bottom: 10px;

      @media ($bp-small-min) {
        margin-bottom: 15px;
      }
    }
  }

  .ma__rich-text &__caption > :last-child {
    margin-bottom: 0;
  }
}

//theme

.ma__figure {

  &__caption {
    font-weight: 300;
  }
}
