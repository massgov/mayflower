import { Meta, Story, Canvas } from '@storybook/addon-docs/blocks';
import Button from '@massds/mayflower-react/dist/Button';
import generateTitle from '../../util/generateTitle';
import { renderReactMarkup } from '../../util/renderCode';
import * as stories from './Button.stories.js';

<Meta
  title={generateTitle('Button')}
  parameters={{
    viewMode: 'docs'
  }}
/>

# Buttons
Buttons express what action will occur when the user clicks or touches it. Buttons are used to initialize an action, either in the background or foreground of an experience.
<Canvas>
  <Story
		name="button-primary"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" text="Primary Button"/>) } }}>
      <Button usage="" text="button" />
  </Story>
</Canvas>

## Overview
Buttons are vital for creating a smooth conversational flow on the web, and should be used sparingly. Buttons should adhere to standard web practices, and afford for a target area of 45 pixels. They should also appear slightly raised, and not be completely flat. They have a slight shadow on them so they appear clickable. The small buttons are often used on forms and to set filters on listing pages. The large buttons should be used for primary calls to action. Font sizes reduce slightly on mobile.


## Variations
<br />

### Primary Button
**Usage:** For the principle call to action on the page.

**Style:**
Default buttons are solid colors with uppercased button text (this is configurable with an capitalized option for longer button text) Box shadow are used to accentuate the actions. Background color of the primary button lightens when being hovered over.
<Canvas>
  <Story
    name="button-primary-c-primary"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" text="Primary"/>) } }}>
      <Button usage="" text="Primary" />
  </Story>
  <Story
    name="button-primary-c-primary-alt"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" theme="c-primary-alt" text="Primary"/>) } }}>
      <Button usage="" theme="c-primary-alt" text="Primary"/>
  </Story>
  <Story
    name="button-primary-c-highlight"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" theme="c-highlight" text="Primary"/>) } }}>
      <Button usage="" theme="c-highlight" text="Primary"/>
  </Story>
  <Story
    name="button-primary-c-gray"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" theme="c-gray-dark" text="Primary"/>) } }}>
      <Button usage="" theme="c-gray-dark" text="Primary"/>
  </Story>
  <Story story={stories.buttonCSS} />
</Canvas>


<hr className="sp--top" />

### Secondary Button
**Usage:** For the secondary action on a page.

**Style:**
The outline button provides a less prominent visual to indicate an less important action on a page, e.g. the Back button. The hover state of the secondary button inverts the background/foreground colors.
<Canvas>
  <Story
    name="button-secondary-c-primary"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="secondary" text="Secondary"/>) } }}>
      <Button usage="secondary" text="Secondary" />
  </Story>
  <Story
    name="button-secondary-c-primary-alt"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="secondary" theme="c-primary-alt" text="Secondary"/>) } }}>
      <Button usage="secondary" theme="c-primary-alt" text="Secondary"/>
  </Story>
  <Story
    name="button-secondary-c-highlight"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="secondary" theme="c-highlight" text="Secondary"/>) } }}>
      <Button usage="secondary" theme="c-highlight" text="Secondary"/>
  </Story>
  <Story
    name="button-secondary-c-gray"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="secondary" theme="c-gray-dark" text="Secondary"/>) } }}>
      <Button usage="secondary" theme="c-gray-dark" text="Secondary"/>
  </Story>
  <Story story={stories.buttonCSS2} />
</Canvas>

<hr className="sp--top" />

### Tertiary Button
**Usage:** For the third action on a page.

**Style:** This is a solid gray button with a lighter background color than the foreground text. The muted color makes this button less prominent on a page than the secondary outline button a providing an option for a tertiary action. The hover state of this button will invert background color with white color text.

<Canvas>
  <Story
    name="button-tertiary"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="tertiary" text="Tertiary"/>) } }}>
      <Button usage="tertiary" text="Tertiary"/>
  </Story>
  <Story story={stories.buttonCSS3} />
</Canvas>

<hr className="sp--top" />

### Quaternary Button
**Usage:** For the third action on a page.

**Style:**
Appears as a link.

<Canvas>
  <Story
    name="button-quaternary"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="quaternary" text="Quaternary" />) } }}>
      <Button usage="quaternary" text="Quaternary" />
  </Story>
  <Story story={stories.buttonCSS4} />
</Canvas>

### Disabled Button
**Usage:** A disabled button is unusable and un-clickable. The disabled attribute can be set to keep a user from clicking on the button until some other condition has been met.

**Style:**
Box shadow on default buttons are used to accentuate the actions. For disabled buttons, box shadow is removed and opacity for the button is set to 0.5 for a muted look and no hover or focus state is provided.

<Canvas>
  <Story
    name="button-primary--disabled"
    parameters={{ docs: { transformSource: () => renderReactMarkup(<Button usage="" text="Disabled" disabled/>) } }}>
      <Button usage="" text="Disabled" disabled/>
  </Story>
  <Story
    name="button-secondary--disabled"
    parameters={{ docs: { transformSource: (src) => renderReactMarkup(<Button usage="secondary" text="Disabled" disabled/>) } }}>
      <Button usage="secondary" text="Disabled" disabled/>
  </Story>
  <Story
    name="button-tertiary--disabled"
    parameters={{ docs: { transformSource: (src) => renderReactMarkup(<Button usage="tertiary" text="Disabled" disabled/>) } }}>
      <Button usage="tertiary" text="Disabled" disabled/>
  </Story>
  <Story
    name="button-quaternary--disabled"
    parameters={{ docs: { transformSource: (src) => renderReactMarkup(<Button usage="quaternary" text="Disabled" disabled/>) } }}>
      <Button usage="quaternary" text="Disabled" disabled/>
  </Story>
  <Story story={stories.buttonCSSDisabled} />
</Canvas>

### Accessibility & Best Practices
* Avoid using `<div>` or `<img>` tags to create buttons. Screen readers don't automatically know either is a usable button.
* Buttons should display a visible focus state when users tab to them.
* The label text and the background have a color contrast to meet the WCAG guideline.
* `<button>` has built-in keyboard accessibility — it can be tabbed between, and activated using Return/Enter.
* When an icon or any image is included in `<button>`;
  1. if the icon or image is NOT decorative, make sure they have text alternative presentation.
  2. if it is decorative \(= use them supplementary\) with text for its label, do not add any text alternative to it.  Use `aria-hidden="true"`, empty alt attribute `alt=""`. Do not use `title` and other aria attributes to make the icon or image recognizable to assistive technologies.
* When styling links to look like buttons, remember that screen readers handle links slightly differently than they do buttons. Pressing the Space key triggers a button, but pressing the Enter key triggers a link.
* Avoid using `<div>` or `<img>` tags to create buttons. Screen readers don't automatically know either is a usable button.
* Buttons should display a visible focus state when users tab to them.
* The label text and the background have a color contrast to meet the WCAG guideline.
* `<button>` has built-in keyboard accessibility — it can be tabbed between, and activated using Return/Enter.
* When an icon or any image is included in `<button>`;
  1. if the icon or image is NOT decorative, make sure they have text alternative presentation.
  2. if it is decorative \(= use them supplementary\) with text for its label, do not add any text alternative to it.  Use `aria-hidden="true"`, empty alt attribute `alt=""`. Do not use `title` and other aria attributes to make the icon or image recognizable to assistive technologies.
* When styling links to look like buttons, remember that screen readers handle links slightly differently than they do buttons. Pressing the Space key triggers a button, but pressing the Enter key triggers a link.
