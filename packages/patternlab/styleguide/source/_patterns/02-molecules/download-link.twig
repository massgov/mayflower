{% set sizeClass = downloadLink.iconSize ? "ma__download-link--" ~ downloadLink.iconSize : "" %}

<div class="ma__download-link {{ sizeClass }}">
  {% if downloadLink.icon %}
    <span class="ma__download-link__icon">
      {{ icon(downloadLink.icon) }}
    </span>
  {% endif %}
  <span class="ma__download-link__title">
    {% if downloadLink.format == "form" %}
      {% set decorativeLink = downloadLink.decorativeLink %}
      {% include "@atoms/decorative-link.twig" %}
    {% else %}
      <a
        class="ma__download-link__file-link"
        href="{{ downloadLink.decorativeLink.href}}">
        <span class="ma__visually-hidden">Open {{ downloadLink.format }} file{% if downloadLink.size %}, {{ downloadLink.size }}{% endif %},&nbsp;</span>
          {{ downloadLink.decorativeLink.text }}
      </a>
      {% set specs = [] %}
      {% if downloadLink.language %}
        {% set specs = specs|merge([downloadLink.language]) %}
      {% endif %}
      {% if downloadLink.format %}
        {% set specs = specs|merge([downloadLink.format]) %}
      {% endif %}
      {% if downloadLink.size %}
        {% set specs = specs|merge([downloadLink.size]) %}
      {% endif %}

      {% if specs %}
        <span class="ma__download-link__file-spec">
          ({{ specs|first }}{% if specs|length > 1 %}, {% endif %}{{ specs|slice(1)|join(' ') }})
        </span>
      {% endif %}
    {% endif %}
  </span>
  {% if downloadLink.description %}
    {% set richText = downloadLink.description %}
    <div class="ma__download-link__description">
      {% include "@organisms/by-author/rich-text.twig" %}
    </div>
  {% endif %}
</div>
