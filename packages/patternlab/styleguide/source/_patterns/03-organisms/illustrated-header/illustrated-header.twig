{# backward compatible to v5.5 #}
{% if illustratedHeader.bgTitle %}
  {% set imageAlt = illustratedHeader.bgTitle %}
{% endif %}

{% set illustratedHeaderClass = "ma__illustrated-header" %}
{% if illustratedHeader.inverted %}
  {% set illustratedHeaderClass = "ma__illustrated-header ma__illustrated-header--inverted" %}
{% endif %}
{% if illustratedHeader.bgCentered %}
  {% set illustratedHeaderClass = "ma__illustrated-header ma__illustrated-header--centered" %}
{% endif %}

{% set bgImageClass = (illustratedHeader.noImage)?"ma__illustrated-header--no-image":"" %}

<section class="{{illustratedHeaderClass}} {{bgImageClass}}">
  <div class="ma__illustrated-header__container">
    <div class="ma__illustrated-header__content">
      <div class="ma__illustrated-header__category" aria-hidden="true">
        {{illustratedHeader.category}}
      </div>
      {% set pageHeader = illustratedHeader.pageHeader %}
      {% set pageHeader = pageHeader|merge({ 'prefix': illustratedHeader.category }) %}
      {% include "@organisms/page-header/page-header.twig" %}
      {% include "@organisms/page-header/page-header-addons.twig" %}
    </div>
  </div>
  {% if illustratedHeader.bgImage %}
    <style>
      .ma__illustrated-header__image {
        background-image: url('{{ illustratedHeader.bgImage }}');
      }

      {% if illustratedHeader.retinaBgImage %}
      @media (-webkit-min-device-pixel-ratio: 2) {
        .ma__illustrated-header__image {
          background-image: url('{{ illustratedHeader.retinaBgImage }}');
        }
      }
      {% endif %}
      {% if illustratedHeader.bgPositionX and illustratedHeader.bgPositionY %}
      .ma__illustrated-header__image {
        background-position: {{ illustratedHeader.bgPositionX }} {{ illustratedHeader.bgPositionY }};
      }
      {% endif %}
    </style>
    <div class="ma__illustrated-header__image">
    </div>
  {% else %}
    <div class="ma__illustrated-header__image ma__illustrated-header__image--empty"></div>
  {% endif %}
</section>
