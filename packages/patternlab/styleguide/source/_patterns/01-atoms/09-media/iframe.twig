{% set iframeClass = iframe.position ? "ma__iframe--" ~ iframe.position : '' %}
{% if iframe.height %}
  {% set iframeClass = iframeClass ~ " ma__iframe--fixed" %}
{% else %}
  {% set iframeClass = iframeClass ~ " ma__iframe--responsive" %}
{% endif %}
{% if iframe.ratio %}
  {% set iframeRatioClass = "ma__iframe__container--" ~ iframe.ratio %}
{% endif %}

<div class="ma__iframe {{ iframeClass }}">
  <div class="ma__iframe__container js-ma-responsive-iframe {{ iframeRatioClass }}">
    <iframe height="{{ iframe.height }}" src="{{ iframe.src }}" allowfullscreen loading="lazy" title="{{ iframe.title }}"></iframe>
  {% if iframe.link %}
    <div class="ma__iframe__link">
      {% set decorativeLink = iframe.link %}
      {% include "@atoms/decorative-link.twig" %}
    </div>
  {% endif %}
  </div>

  {% if iframe.caption %}
  <figcaption class="ma__figure__caption ma__iframe__caption">
    {{ iframe.caption|raw }}
  </figcaption>
  {% endif %}
</div>
